!function(e){function webpackJsonpCallback(t){for(var o,i,a=t[0],c=t[1],l=t[2],u=0,f=[];u<a.length;u++)i=a[u],n[i]&&f.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(s&&s(t);f.length;)f.shift()();return r.push.apply(r,l||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<r.length;t++){for(var o=r[t],i=!0,a=1;a<o.length;a++){var s=o[a];0!==n[s]&&(i=!1)}i&&(r.splice(t--,1),e=__webpack_require__(__webpack_require__.s=o[0]))}return e}var t={},n={2:0},r=[];function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=webpackJsonpCallback,o=o.slice();for(var a=0;a<o.length;a++)webpackJsonpCallback(o[a]);var s=i;r.push([54,0]),checkDeferredModules()}({19:function(e,t,n){"use strict";(function(e){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.WhiteCard=void 0;var n=function(t){function WhiteCard(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WhiteCard),(t=function(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(WhiteCard).call(this,e))).selectCard=t.selectCard.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(WhiteCard,e.Component),function(e,t,n){t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n)}(WhiteCard,[{key:"selectCard",value:function(e){e.preventDefault(),this.props.onCardSelected(this.props.card)}},{key:"render",value:function(){var t="list-group-item";return this.props.card.selected&&(t+=" active"),e.createElement("li",{className:t,onClick:this.selectCard},this.props.card.text)}}]),WhiteCard}();t.WhiteCard=n}).call(this,n(1))},20:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.WhiteCards=void 0;var r=n(19);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var o=function(t){function WhiteCards(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WhiteCards),(t=function(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(WhiteCards).call(this,e))).selectCard=t.selectCard.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(WhiteCards,e.Component),function(e,t,n){t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n)}(WhiteCards,[{key:"selectCard",value:function(e){this.props.whiteCardSelected(e)}},{key:"render",value:function(){var t=this,n=this.props.cards,o=null,i=null,a=null;return n.length?(i=n.map(function(n,o){if(o>4)return e.createElement(r.WhiteCard,{key:n.id,card:n,onCardSelected:t.selectCard})}),o=n.map(function(n,o){if(o<=4)return e.createElement(r.WhiteCard,{key:n.id,card:n,onCardSelected:t.selectCard})}),a=e.createElement("div",{className:"row"},e.createElement("div",{className:"col"},e.createElement("ul",{className:"list-group"},o)),e.createElement("div",{className:"col"},e.createElement("ul",{className:"list-group"},i)))):a=e.createElement("h3",null,"No white cards."),e.createElement("div",{className:"col"},a)}}]),WhiteCards}();t.WhiteCards=o}).call(this,n(1))},21:function(e,t,n){"use strict";(function(e){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BlackCard=void 0;var n=function(t){function BlackCard(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BlackCard),_possibleConstructorReturn(this,_getPrototypeOf(BlackCard).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BlackCard,e.Component),function(e,t,n){t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n)}(BlackCard,[{key:"render",value:function(){var t=this.props.blackCard,n=null;return n=t.id?t.text:t.text?t.text:"N/A",e.createElement("div",{className:"card"},e.createElement("div",{className:"card-body text-light bg-dark rounded"},n))}}]),BlackCard}();t.BlackCard=n}).call(this,n(1))},22:function(e,t,n){"use strict";(function(e){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;var n=function(t){function Login(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Login),_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Login,e.Component),function(e,t,n){t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n)}(Login,[{key:"render",value:function(){var t=this.props.playerName,n=this.props.joined,r=this.props.started,o=e.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:this.props.startStopGame},"Start Game"),i=e.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:this.props.startStopGame},"Stop Game"),a=o;return r&&(a=i),n?e.createElement("form",{onSubmit:this.props.onJoin},e.createElement("div",{className:"form-group"},e.createElement("label",{className:"control-label"},"Welcome ",t)," ",e.createElement("button",{type:"submit",className:"btn btn-default btn-sm"},"Leave")," ",a)):e.createElement("form",{onSubmit:this.props.onJoin},e.createElement("input",{name:"playerName",placeholder:"Player Name",type:"text",className:"form-control",value:t,onChange:this.props.handleInput,required:!0}),e.createElement("button",{type:"submit",className:"btn btn-default"},"Join"))}}]),Login}();t.Login=n}).call(this,n(1))},23:function(e,t,n){"use strict";(function(e){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Players=void 0;var n=function(t){function Players(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Players),_possibleConstructorReturn(this,_getPrototypeOf(Players).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Players,e.Component),function(e,t,n){t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n)}(Players,[{key:"render",value:function(){var t=this.props.players;return t.length?e.createElement("ul",null,t.map(function(t){return e.createElement("li",{key:t},t)})):e.createElement("span",{className:"text text-info"},"Nobody is playing")}}]),Players}();t.Players=n}).call(this,n(1))},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var r=_interopRequireDefault(n(1)),o=(n(3),_interopRequireDefault(n(10)),_interopRequireDefault(n(4))),i=n(23),a=n(22),s=n(21),c=n(20);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(15),u=function(e){function App(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App),_defineProperty(_assertThisInitialized(_assertThisInitialized(t=function(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(App).call(this,e)))),"gameConnection",void 0),t.state={playerName:"",started:!1,joined:!1,players:[],gameCard:{},whiteCards:[],selectedCards:[],votes:[]},t.handleInputChange=t.handleInputChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.joinGame=t.joinGame.bind(_assertThisInitialized(_assertThisInitialized(t))),t.startStopGame=t.startStopGame.bind(_assertThisInitialized(_assertThisInitialized(t))),t.selectCard=t.selectCard.bind(_assertThisInitialized(_assertThisInitialized(t))),t.sendCards=t.sendCards.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(App,r.default.Component),function(e,t,n){t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n)}(App,[{key:"resetClient",value:function(e){void 0===e&&(e=this),e.setState({joined:!1,players:[],started:!1,whiteCards:[],selectedCards:[],gameCard:{},votes:[]})}},{key:"setupHub",value:function(){var e=l.HttpTransportType.WebSockets,t=this;t.gameConnection=(new l.HubConnectionBuilder).withUrl("".concat(document.location.protocol,"//").concat(document.location.host,"/game"),{transport:e}).build(),t.gameConnection.onClosed=function(e){console.log("Connection closed")},t.gameConnection.on("PlayerJoined",function(e){t.setState({players:e})}),t.gameConnection.on("PlayerLeft",function(e){t.setState({players:e})}),t.gameConnection.on("GameStarted",function(e){return t.setState({started:e.started,gameCard:e.gameCard})}),t.gameConnection.on("GameStopped",function(){return t.setState({started:!1,gameCard:{},votes:[]})}),t.gameConnection.on("ReceiveCards",function(e){var n=o.default.shuffle(t.state.whiteCards.slice(0).concat(e));t.setState({whiteCards:n})}),t.gameConnection.on("ReceiveChoices",function(e){return t.setState({votes:e,gameCard:{text:"Time to vote!"}})}),t.gameConnection.start().then(function(){return t.gameConnection.invoke("JoinGame",t.state.playerName).then(function(e){t.setState({joined:e.joined,started:e.gameState.started,whiteCards:e.whiteCards,selectedCards:[]})})},function(e){console.log("Connection error")})}},{key:"componentDidMount",value:function(){}},{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;this.setState(_defineProperty({},r,n))}},{key:"joinGame",value:function(e){if(e.preventDefault(),!1===this.state.joined)this.setupHub();else{var t=this;t.gameConnection.invoke("LeaveGame").then(function(){t.resetClient(),t.gameConnection.stop().catch(function(e){return console.log("Error closing connection ".concat(e))})},function(e){return t.resetClient(t)})}}},{key:"startStopGame",value:function(e){e.preventDefault(),this.state.started?this.gameConnection.invoke("StopGame"):this.gameConnection.invoke("StartGame")}},{key:"selectCard",value:function(e){var t=this.state.whiteCards.slice(0),n=this.state.selectedCards.slice(0),r=this.state.gameCard.pick;o.default.forEach(t,function(t){t.id===e.id&&(t.selected?(t.selected=!1,o.default.remove(n,function(t){return t===e.id})):n.length<r&&(t.selected=!0,n.push(t.id)))}),this.setState({whiteCards:t,selectedCards:n})}},{key:"sendCards",value:function(e){e.preventDefault();this.state.selectedCards.slice(0);var t=this.state.whiteCards.slice(0);o.default.remove(t,function(e){return e.selected}),this.setState({whiteCards:t,selectedCards:[]}),this.gameConnection.invoke("SendCards",this.state.selectedCards)}},{key:"render",value:function(){var e=this.state.playerName,t=this.state.players,n=this.state.joined,o=this.state.started,l=this.state.gameCard,u=this.state.whiteCards,f=null;this.state.votes.length&&(f=this.state.votes.map(function(e){return r.default.createElement("li",{key:e.key},e.value," ",r.default.createElement("button",{className:"btn btn-sm btn-info"},r.default.createElement("i",{className:"fa fa-thumbs-up","aria-hidden":"true"})))}));var p=null;return o&&l.pick&&(p=r.default.createElement("div",{className:"col-12"},r.default.createElement("h4",{className:"text-info"},"Pick ",l.pick," cards ",r.default.createElement("button",{className:"btn btn-success",onClick:this.sendCards},"Send")))),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-lg"},r.default.createElement(a.Login,{joined:n,started:o,onJoin:this.joinGame,playerName:e,handleInput:this.handleInputChange,startStopGame:this.startStopGame}),r.default.createElement(i.Players,{players:t})),r.default.createElement("div",{className:"col-md-12 col-lg"},r.default.createElement(s.BlackCard,{blackCard:l})),r.default.createElement("div",{className:"w-100 d-lg-none d-md-block"}),r.default.createElement("div",{className:"col-md-12 col-lg-8"},r.default.createElement("div",{className:"row"},p,r.default.createElement(c.WhiteCards,{cards:u,blackcard:l,whiteCardSelected:this.selectCard})),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col"},r.default.createElement("h4",{className:"text-info"},"Respuestas"),r.default.createElement("ul",null,f)))))}}]),App}();t.App=u},54:function(e,t,n){"use strict";(function(e){var t=n(3),r=n(45);n(59),(0,t.render)(e.createElement(r.App,null),document.getElementById("app"))}).call(this,n(1))},59:function(e,t){}});